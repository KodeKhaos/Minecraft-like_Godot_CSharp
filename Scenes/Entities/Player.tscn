[gd_scene load_steps=41 format=3 uid="uid://dpwqf2x3jqvwq"]

[ext_resource type="Script" path="res://Scripts/Player.cs" id="1_q57fd"]
[ext_resource type="Shader" path="res://Shaders/BreakingAnim.gdshader" id="2_2tfl5"]
[ext_resource type="Texture2D" uid="uid://dyycbnc2nia5j" path="res://BlockTextures/BreakingAnim/BlankPixel.png" id="3_6bmpt"]
[ext_resource type="Texture2D" uid="uid://cl54csc2iae2j" path="res://BlockTextures/BreakingAnim/Breaking_Anim_Minecraft0.png" id="3_cn857"]
[ext_resource type="Texture2D" uid="uid://cokdq4w16uofm" path="res://BlockTextures/BreakingAnim/Breaking_Anim_Minecraft3.png" id="3_e8qxm"]
[ext_resource type="Texture2D" uid="uid://co2isdiyg30ml" path="res://BlockTextures/BreakingAnim/Breaking_Anim_Minecraft5.png" id="3_ll2al"]
[ext_resource type="Texture2D" uid="uid://ct3l6u3b6x4at" path="res://BlockTextures/BreakingAnim/Breaking_Anim_Minecraft1.png" id="5_3bvus"]
[ext_resource type="Texture2D" uid="uid://8cq40kh0y4k4" path="res://BlockTextures/BreakingAnim/Breaking_Anim_Minecraft4.png" id="7_c3xxk"]
[ext_resource type="Texture2D" uid="uid://c2item12rv1no" path="res://BlockTextures/Crosshair/Crosshair.png" id="9_d8bsg"]
[ext_resource type="PackedScene" uid="uid://bly1vdhiosvb5" path="res://Scenes/PlayerInventory/inventory_ui.tscn" id="10_y5fob"]

[sub_resource type="BoxShape3D" id="BoxShape3D_0fj3a"]
size = Vector3(0.7, 1.95, 0.7)

[sub_resource type="BoxMesh" id="BoxMesh_pp461"]
size = Vector3(0.75, 1.4, 0.75)

[sub_resource type="BoxMesh" id="BoxMesh_kbv03"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rnxhe"]
transparency = 1
albedo_color = Color(0.894118, 1, 1, 0.25098)

[sub_resource type="BoxMesh" id="BoxMesh_m01hw"]
material = SubResource("StandardMaterial3D_rnxhe")
size = Vector3(1.05, 1.05, 1.05)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jo8kb"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = ExtResource("3_6bmpt")

[sub_resource type="QuadMesh" id="QuadMesh_arkcq"]
material = SubResource("ShaderMaterial_jo8kb")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yrp0n"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = ExtResource("3_cn857")

[sub_resource type="QuadMesh" id="QuadMesh_b1sjv"]
material = SubResource("ShaderMaterial_yrp0n")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wmb2n"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = ExtResource("5_3bvus")

[sub_resource type="QuadMesh" id="QuadMesh_q2b5g"]
material = SubResource("ShaderMaterial_wmb2n")

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_ruptj"]
load_path = "res://.godot/imported/Breaking_Anim_Minecraft2.png-65435bf3d477b61e30bfee7930fc1cef.s3tc.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rgmkh"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = SubResource("CompressedTexture2D_ruptj")

[sub_resource type="QuadMesh" id="QuadMesh_75f57"]
material = SubResource("ShaderMaterial_rgmkh")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_om07a"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = ExtResource("3_e8qxm")

[sub_resource type="QuadMesh" id="QuadMesh_mjuaj"]
material = SubResource("ShaderMaterial_om07a")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jpck3"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = ExtResource("7_c3xxk")

[sub_resource type="QuadMesh" id="QuadMesh_un45u"]
material = SubResource("ShaderMaterial_jpck3")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_edhss"]
render_priority = 0
shader = ExtResource("2_2tfl5")
shader_parameter/darkness = 0.2
shader_parameter/my_texture = ExtResource("3_ll2al")

[sub_resource type="QuadMesh" id="QuadMesh_wudle"]
material = SubResource("ShaderMaterial_edhss")

[sub_resource type="QuadMesh" id="QuadMesh_axjpc"]
material = SubResource("ShaderMaterial_yrp0n")

[sub_resource type="QuadMesh" id="QuadMesh_merq8"]
material = SubResource("ShaderMaterial_wmb2n")

[sub_resource type="QuadMesh" id="QuadMesh_7dfmk"]
material = SubResource("ShaderMaterial_rgmkh")

[sub_resource type="QuadMesh" id="QuadMesh_72kkc"]
material = SubResource("ShaderMaterial_om07a")

[sub_resource type="QuadMesh" id="QuadMesh_cscvi"]
material = SubResource("ShaderMaterial_jpck3")

[sub_resource type="QuadMesh" id="QuadMesh_dttfg"]
material = SubResource("ShaderMaterial_edhss")

[sub_resource type="Animation" id="Animation_wrf18"]
resource_name = "Breaking Animation"
step = 0.1666
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace1:mesh")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1676, 0.334321, 0.501021, 0.6666, 0.8333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [SubResource("QuadMesh_b1sjv"), SubResource("QuadMesh_q2b5g"), SubResource("QuadMesh_75f57"), SubResource("QuadMesh_mjuaj"), SubResource("QuadMesh_un45u"), SubResource("QuadMesh_wudle")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace2:mesh")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1676, 0.3333, 0.5, 0.6666, 0.8333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [SubResource("QuadMesh_axjpc"), SubResource("QuadMesh_merq8"), SubResource("QuadMesh_7dfmk"), SubResource("QuadMesh_72kkc"), SubResource("QuadMesh_cscvi"), SubResource("QuadMesh_dttfg")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace3:mesh")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1666, 0.3333, 0.5, 0.6666, 0.8333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [SubResource("QuadMesh_axjpc"), SubResource("QuadMesh_merq8"), SubResource("QuadMesh_7dfmk"), SubResource("QuadMesh_72kkc"), SubResource("QuadMesh_cscvi"), SubResource("QuadMesh_dttfg")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace4:mesh")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1667, 0.3334, 0.5, 0.6666, 0.8335),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [SubResource("QuadMesh_axjpc"), SubResource("QuadMesh_merq8"), SubResource("QuadMesh_7dfmk"), SubResource("QuadMesh_72kkc"), SubResource("QuadMesh_cscvi"), SubResource("QuadMesh_dttfg")]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace5:mesh")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.1666, 0.3333, 0.5, 0.6666, 0.8333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [SubResource("QuadMesh_axjpc"), SubResource("QuadMesh_merq8"), SubResource("QuadMesh_7dfmk"), SubResource("QuadMesh_72kkc"), SubResource("QuadMesh_cscvi"), SubResource("QuadMesh_dttfg")]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace6:mesh")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.1666, 0.3333, 0.5, 0.6666, 0.8333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [SubResource("QuadMesh_axjpc"), SubResource("QuadMesh_merq8"), SubResource("QuadMesh_7dfmk"), SubResource("QuadMesh_72kkc"), SubResource("QuadMesh_cscvi"), SubResource("QuadMesh_dttfg")]
}

[sub_resource type="Animation" id="Animation_rl5ta"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace1:mesh")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace2:mesh")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace3:mesh")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace4:mesh")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace5:mesh")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace6:mesh")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}

[sub_resource type="Animation" id="Animation_5v65t"]
resource_name = "ResetTexture"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace1:mesh")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace2:mesh")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace3:mesh")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace4:mesh")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace5:mesh")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("BlockHighlight/BreakingAnimationObject/BreakingFace6:mesh")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("QuadMesh_arkcq")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dl7q7"]
_data = {
"Breaking Animation": SubResource("Animation_wrf18"),
"RESET": SubResource("Animation_rl5ta"),
"ResetTexture": SubResource("Animation_5v65t")
}

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("collisionShape", "Head", "Camera", "Raycast", "BlockHighlight", "BreakingAnimationPlayer", "BreakingTimer", "InventoryUI")]
script = ExtResource("1_q57fd")
collisionShape = NodePath("CollisionShape3D")
Head = NodePath("Head")
Camera = NodePath("Head/Camera3D")
Raycast = NodePath("Head/Camera3D/RayCast3D")
BlockHighlight = NodePath("BlockHighlight")
BreakingAnimationPlayer = NodePath("BlockHighlight/BreakingAnimationObject/BreakingAnimationPlayer")
BreakingTimer = NodePath("BlockHighlight/BreakingAnimationObject/BreakingAnimationPlayer/Timer")
InventoryUI = NodePath("Player UI/Inventory UI")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_0fj3a")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.260492, 0)
visible = false
mesh = SubResource("BoxMesh_pp461")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7, 0)

[node name="Camera3D" type="Camera3D" parent="Head"]
fov = 110.0

[node name="RayCast3D" type="RayCast3D" parent="Head/Camera3D"]
target_position = Vector3(0, 0, -6.5)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Head/Camera3D"]
mesh = SubResource("BoxMesh_kbv03")

[node name="BlockHighlight" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("BoxMesh_m01hw")

[node name="BreakingAnimationObject" type="Node3D" parent="BlockHighlight"]

[node name="BreakingFace1" type="MeshInstance3D" parent="BlockHighlight/BreakingAnimationObject"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.501)
mesh = SubResource("QuadMesh_arkcq")

[node name="BreakingFace2" type="MeshInstance3D" parent="BlockHighlight/BreakingAnimationObject"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.501, 0, 0)
mesh = SubResource("QuadMesh_arkcq")

[node name="BreakingFace3" type="MeshInstance3D" parent="BlockHighlight/BreakingAnimationObject"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -0.501)
mesh = SubResource("QuadMesh_arkcq")

[node name="BreakingFace4" type="MeshInstance3D" parent="BlockHighlight/BreakingAnimationObject"]
transform = Transform3D(1.19249e-08, 0, -1, 0, 1, 0, 1, 0, 1.19249e-08, -0.501, 0, 0)
mesh = SubResource("QuadMesh_arkcq")

[node name="BreakingFace5" type="MeshInstance3D" parent="BlockHighlight/BreakingAnimationObject"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.501, 0)
mesh = SubResource("QuadMesh_arkcq")

[node name="BreakingFace6" type="MeshInstance3D" parent="BlockHighlight/BreakingAnimationObject"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.501, 0)
mesh = SubResource("QuadMesh_arkcq")

[node name="BreakingAnimationPlayer" type="AnimationPlayer" parent="BlockHighlight/BreakingAnimationObject"]
root_node = NodePath("../../..")
libraries = {
"": SubResource("AnimationLibrary_dl7q7")
}
autoplay = "RESET"

[node name="Timer" type="Timer" parent="BlockHighlight/BreakingAnimationObject/BreakingAnimationPlayer"]

[node name="Player UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Crosshair" type="Control" parent="Player UI"]
layout_mode = 1
anchor_right = 28.8
anchor_bottom = 16.1
offset_right = -1152.0
offset_bottom = -644.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="Player UI/Crosshair"]
modulate = Color(1, 1, 1, 0.737255)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 930.0
offset_top = 515.0
offset_right = 980.0
offset_bottom = 565.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("9_d8bsg")

[node name="Inventory UI" parent="Player UI" instance=ExtResource("10_y5fob")]
visible = false
layout_mode = 1
offset_right = 1923.0
offset_bottom = 1044.0

[connection signal="timeout" from="BlockHighlight/BreakingAnimationObject/BreakingAnimationPlayer/Timer" to="." method="OnBlockBroken"]
